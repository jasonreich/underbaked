<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>SoggyBottom</title>
  
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="/components/nvd3/nv.d3.css" />
  <link rel="stylesheet" href="/stylesheets/style.css" />
  
  <script src="/components/jquery/jquery.js"></script>
  <script src="/components/jquery-ui/ui/jquery-ui.js"></script>
  <script src="/components/bootstrap/dist/js/bootstrap.js"></script>
  <script src="/components/moment/moment.js"></script>
  <script src="/components/d3/d3.js"></script>
  <script src="/components/nvd3/nv.d3.js"></script>
  <script src="/components/paho/src/mqttws31.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_v6EPnrRJXiWJbu8_3_jNvhToY6D3ogU&sensor=true&libraries=geometry"></script>

  <script src="/javascripts/display.js"></script>
</head>

<body>

	<div id="mapCanvas"></div>
	<div id="controls" class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">
        <img src="/components/flat-ui-official/images/icons/svg/map.svg" class="mg-thumbnail pull-left icon" alt="Map Icon" />
        &nbsp;
        <div class="btn-toolbar pull-right toolbar-shift">
          <div class="btn-group">
            <a class="btn btn-default btn-xs" data-toggle="modal" data-target="#addTrace">
              <span class="glyphicon glyphicon-plus"></span>&nbsp;
              Add trace
            </a>
            <!--
            <a class="btn btn-danger btn-xs">
              <span class="glyphicon glyphicon-log-out"></span>&nbsp;
              Log out
            </a>
            -->
          </div>
        </div>
      </h3>
    </div>
	<div class="panel-body">
        <h4>Comparing rides:</h4>
	</div>
    
    <table class="table table-hover">
      <thead>
        <tr>
          <th>&nbsp;</th>
          <th>Title</th>
          <th>Date</th>
          <th>Length</th>
        </tr>
      </thead>
      <tbody id="traceListing">
        
      </tbody>
    </table>

    <ul class="list-group">
      <li class="list-group-item no-padding">
        <div class="with-3d-shadow with-transitions" id="chart_div">
          <svg style="height: 200px;"></svg>
        </div>
      </li>
    </ul>
    
	</div>

    <div class="modal fade" id="addTrace" tabindex="-1" role="dialog" aria-labelledby="addTraceLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="addTrace">Add New Trace</h4>
          </div>
          <form role="form">
          <div class="modal-body">
            <p>Choose an appropriate trace type.</p>
            <div class="panel-group" id="addAccordian">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#addAccordian" href="#collapseUpload">
                      Upload GPX telemetry
                    </a>
                  </h4>
                </div>
                <div id="collapseUpload" class="panel-collapse collapse">
                  <div class="panel-body">
                    <p>Upload a GPX file.</p>
                    <div class="form-group">
                      <label for="fileDropZone">GPX File Drop:</label>
                      <div id="fileDropZone" class="well">
                        <p id="fileDropError" class="text-danger" style="display: none;">File not accepted. Must have GPX extension.</p>
                        Drop files here
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#addAccordian" href="#collapseCollect">
                      Collect live telemetry
                    </a>
                  </h4>
                </div>
                <div id="collapseCollect" class="panel-collapse collapse">
                  <div class="panel-body">
                    <p>Select an unclaimed live feed and give it a title.</p>
                    <div class="form-group">
                      <label for="collectSuffix">MQTT Topic Suffix:</label>
                      <div class="input-group">
                        <span class="input-group-addon">/live/</span>
                        <input class="form-control" id="collectSuffix" placeholder="Enter suffix">
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="collectTitle">Trace Title:</label>
                      <input class="form-control" id="collectTitle" placeholder="Enter a title for this trace">
                    </div>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#addAccordian" href="#collapseReplay">
                      Replay archived telemetry
                    </a>
                  </h4>
                </div>
                <div id="collapseReplay" class="panel-collapse collapse">
                  <div class="panel-body">
                    <p>Select an archive and choose a MQTT topic for your replay.</p>
                    <div class="form-group">
                      <label for="replaceArchive">Archive ID:</label>
                      <input class="form-control" id="replaceArchive" placeholder="Enter archive ID">
                    </div>
                    <div class="form-group">
                      <label for="replaySuffix">MQTT Topic Suffix:</label>
                      <div class="input-group">
                        <span class="input-group-addon">/replay/</span>
                        <input class="form-control" id="replaySuffix" placeholder="Enter suffix">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </form>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button id="fileDropSave" type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>

</body>
</html>
  